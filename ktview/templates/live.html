<html>
    <head>
        <title>Calibration Dashboard</title>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">
        <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
        <script src="{{ url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/canvasjs.min.js') }}"></script>
    </head>

    <body>
        <div id="canvas"></div>
        <div>
            <form action="/" method="post" name="input" enctype="multipart/form-data">
                <input type="file" name="file" multiple/>
                <input type="submit" name="upload"/>
            </form>
        </div>

        <script type="text/javascript">
            var dps = [];
            var chart = new CanvasJS.Chart("canvas", {
                axisY: {
                    includeZero: false
                },
                data: [{
                    type: "line",
                    dataPoints: dps
                }]
            });

            var updateChart = function() {
                $.getJSON('/live_update', function(response){
                    dps.push(response)
                });
                chart.render();
            };
            setInterval(function() {
                updateChart()
            }, 100);
        </script>
    </body>
</html>
